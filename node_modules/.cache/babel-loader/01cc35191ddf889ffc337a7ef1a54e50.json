{"remainingRequest":"/Users/joannasmerea/Desktop/Glovo_Trainings/Vue---The-Complete-Guide-incl.-Vue-Router-Vuex-and-Composition-API-/18 Deployment/deploy-02-async-components--GItHub/node_modules/babel-loader/lib/index.js!/Users/joannasmerea/Desktop/Glovo_Trainings/Vue---The-Complete-Guide-incl.-Vue-Router-Vuex-and-Composition-API-/18 Deployment/deploy-02-async-components--GItHub/node_modules/eslint-loader/index.js??ref--13-0!/Users/joannasmerea/Desktop/Glovo_Trainings/Vue---The-Complete-Guide-incl.-Vue-Router-Vuex-and-Composition-API-/18 Deployment/deploy-02-async-components--GItHub/src/store/modules/requests/actions.js","dependencies":[{"path":"/Users/joannasmerea/Desktop/Glovo_Trainings/Vue---The-Complete-Guide-incl.-Vue-Router-Vuex-and-Composition-API-/18 Deployment/deploy-02-async-components--GItHub/src/store/modules/requests/actions.js","mtime":1627020736347},{"path":"/Users/joannasmerea/Desktop/Glovo_Trainings/Vue---The-Complete-Guide-incl.-Vue-Router-Vuex-and-Composition-API-/18 Deployment/deploy-02-async-components--GItHub/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/joannasmerea/Desktop/Glovo_Trainings/Vue---The-Complete-Guide-incl.-Vue-Router-Vuex-and-Composition-API-/18 Deployment/deploy-02-async-components--GItHub/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/joannasmerea/Desktop/Glovo_Trainings/Vue---The-Complete-Guide-incl.-Vue-Router-Vuex-and-Composition-API-/18 Deployment/deploy-02-async-components--GItHub/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9qb2FubmFzbWVyZWEvRGVza3RvcC9HbG92b19UcmFpbmluZ3MvVnVlLS0tVGhlLUNvbXBsZXRlLUd1aWRlLWluY2wuLVZ1ZS1Sb3V0ZXItVnVleC1hbmQtQ29tcG9zaXRpb24tQVBJLS8xOCBEZXBsb3ltZW50L2RlcGxveS0wMi1hc3luYy1jb21wb25lbnRzLS1HSXRIdWIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2FzeW5jVG9HZW5lcmF0b3IiOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZS5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKZXhwb3J0IGRlZmF1bHQgewogIGNvbnRhY3RDb2FjaDogZnVuY3Rpb24gY29udGFjdENvYWNoKGNvbnRleHQsIHBheWxvYWQpIHsKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUoKSB7CiAgICAgIHZhciBuZXdSZXF1ZXN0LCByZXNwb25zZSwgcmVzcG9uc2VEYXRhLCBlcnJvcjsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIG5ld1JlcXVlc3QgPSB7CiAgICAgICAgICAgICAgICB1c2VyRW1haWw6IHBheWxvYWQuZW1haWwsCiAgICAgICAgICAgICAgICBtZXNzYWdlOiBwYXlsb2FkLm1lc3NhZ2UKICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzOwogICAgICAgICAgICAgIHJldHVybiBmZXRjaCgiaHR0cHM6Ly9maW5kLWEtY29hY2gtdnVlLTJhNzFlLWRlZmF1bHQtcnRkYi5maXJlYmFzZWlvLmNvbS9yZXF1ZXN0cy8iLmNvbmNhdChwYXlsb2FkLmNvYWNoSWQsICIuanNvbiIpLCB7CiAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJywKICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KG5ld1JlcXVlc3QpCiAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA2OwogICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7CgogICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgcmVzcG9uc2VEYXRhID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGVycm9yID0gbmV3IEVycm9yKHJlc3BvbnNlRGF0YS5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gc2VuZCByZXF1ZXN0LicpOwogICAgICAgICAgICAgIHRocm93IGVycm9yOwoKICAgICAgICAgICAgY2FzZSAxMDoKICAgICAgICAgICAgICBuZXdSZXF1ZXN0LmlkID0gcmVzcG9uc2VEYXRhLm5hbWU7CiAgICAgICAgICAgICAgbmV3UmVxdWVzdC5jb2FjaElkID0gcGF5bG9hZC5jb2FjaElkOwogICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCdhZGRSZXF1ZXN0JywgbmV3UmVxdWVzdCk7CgogICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgIHJldHVybiBfY29udGV4dC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlKTsKICAgIH0pKSgpOwogIH0sCiAgZmV0Y2hSZXF1ZXN0czogZnVuY3Rpb24gZmV0Y2hSZXF1ZXN0cyhjb250ZXh0KSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMigpIHsKICAgICAgdmFyIGNvYWNoSWQsIHRva2VuLCByZXNwb25zZSwgcmVzcG9uc2VEYXRhLCBlcnJvciwgcmVxdWVzdHMsIGtleSwgcmVxdWVzdDsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBjb2FjaElkID0gY29udGV4dC5yb290R2V0dGVycy51c2VySWQ7CiAgICAgICAgICAgICAgdG9rZW4gPSBjb250ZXh0LnJvb3RHZXR0ZXJzLnRva2VuOwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNDsKICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goImh0dHBzOi8vdnVlLWh0dHAtZGVtby04NWU5ZS5maXJlYmFzZWlvLmNvbS9yZXF1ZXN0cy8iLmNvbmNhdChjb2FjaElkLCAiLmpzb24/YXV0aD0iKSArIHRva2VuKTsKCiAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICByZXNwb25zZSA9IF9jb250ZXh0Mi5zZW50OwogICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNzsKICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwoKICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIHJlc3BvbnNlRGF0YSA9IF9jb250ZXh0Mi5zZW50OwoKICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGVycm9yID0gbmV3IEVycm9yKHJlc3BvbnNlRGF0YS5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gZmV0Y2ggcmVxdWVzdHMuJyk7CiAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7CgogICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgIHJlcXVlc3RzID0gW107CgogICAgICAgICAgICAgIGZvciAoa2V5IGluIHJlc3BvbnNlRGF0YSkgewogICAgICAgICAgICAgICAgcmVxdWVzdCA9IHsKICAgICAgICAgICAgICAgICAgaWQ6IGtleSwKICAgICAgICAgICAgICAgICAgY29hY2hJZDogY29hY2hJZCwKICAgICAgICAgICAgICAgICAgdXNlckVtYWlsOiByZXNwb25zZURhdGFba2V5XS51c2VyRW1haWwsCiAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlRGF0YVtrZXldLm1lc3NhZ2UKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICByZXF1ZXN0cy5wdXNoKHJlcXVlc3QpOwogICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY29udGV4dC5jb21taXQoJ3NldFJlcXVlc3RzJywgcmVxdWVzdHMpOwoKICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUyKTsKICAgIH0pKSgpOwogIH0KfTs="},{"version":3,"sources":["/Users/joannasmerea/Desktop/Glovo_Trainings/Vue---The-Complete-Guide-incl.-Vue-Router-Vuex-and-Composition-API-/18 Deployment/deploy-02-async-components--GItHub/src/store/modules/requests/actions.js"],"names":["contactCoach","context","payload","newRequest","userEmail","email","message","fetch","coachId","method","body","JSON","stringify","response","json","responseData","ok","error","Error","id","name","commit","fetchRequests","rootGetters","userId","token","requests","key","request","push"],"mappings":";;;;AAAA,eAAe;AACPA,EAAAA,YADO,wBACMC,OADN,EACeC,OADf,EACwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAC7BC,cAAAA,UAD6B,GAChB;AACjBC,gBAAAA,SAAS,EAAEF,OAAO,CAACG,KADF;AAEjBC,gBAAAA,OAAO,EAAEJ,OAAO,CAACI;AAFA,eADgB;AAAA;AAAA,qBAKZC,KAAK,+EAC6CL,OAAO,CAACM,OADrD,YAE1B;AACEC,gBAAAA,MAAM,EAAE,MADV;AAEEC,gBAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeT,UAAf;AAFR,eAF0B,CALO;;AAAA;AAK7BU,cAAAA,QAL6B;AAAA;AAAA,qBAaRA,QAAQ,CAACC,IAAT,EAbQ;;AAAA;AAa7BC,cAAAA,YAb6B;;AAAA,kBAe9BF,QAAQ,CAACG,EAfqB;AAAA;AAAA;AAAA;;AAgB3BC,cAAAA,KAhB2B,GAgBnB,IAAIC,KAAJ,CACZH,YAAY,CAACT,OAAb,IAAwB,yBADZ,CAhBmB;AAAA,oBAmB3BW,KAnB2B;;AAAA;AAsBnCd,cAAAA,UAAU,CAACgB,EAAX,GAAgBJ,YAAY,CAACK,IAA7B;AACAjB,cAAAA,UAAU,CAACK,OAAX,GAAqBN,OAAO,CAACM,OAA7B;AAEAP,cAAAA,OAAO,CAACoB,MAAR,CAAe,YAAf,EAA6BlB,UAA7B;;AAzBmC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA0BpC,GA3BY;AA4BPmB,EAAAA,aA5BO,yBA4BOrB,OA5BP,EA4BgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACrBO,cAAAA,OADqB,GACXP,OAAO,CAACsB,WAAR,CAAoBC,MADT;AAErBC,cAAAA,KAFqB,GAEbxB,OAAO,CAACsB,WAAR,CAAoBE,KAFP;AAAA;AAAA,qBAGJlB,KAAK,CAC1B,8DAAuDC,OAAvD,mBACEiB,KAFwB,CAHD;;AAAA;AAGrBZ,cAAAA,QAHqB;AAAA;AAAA,qBAOAA,QAAQ,CAACC,IAAT,EAPA;;AAAA;AAOrBC,cAAAA,YAPqB;;AAAA,kBAStBF,QAAQ,CAACG,EATa;AAAA;AAAA;AAAA;;AAUnBC,cAAAA,KAVmB,GAUX,IAAIC,KAAJ,CACZH,YAAY,CAACT,OAAb,IAAwB,2BADZ,CAVW;AAAA,oBAanBW,KAbmB;;AAAA;AAgBrBS,cAAAA,QAhBqB,GAgBV,EAhBU;;AAkB3B,mBAAWC,GAAX,IAAkBZ,YAAlB,EAAgC;AACxBa,gBAAAA,OADwB,GACd;AACdT,kBAAAA,EAAE,EAAEQ,GADU;AAEdnB,kBAAAA,OAAO,EAAEA,OAFK;AAGdJ,kBAAAA,SAAS,EAAEW,YAAY,CAACY,GAAD,CAAZ,CAAkBvB,SAHf;AAIdE,kBAAAA,OAAO,EAAES,YAAY,CAACY,GAAD,CAAZ,CAAkBrB;AAJb,iBADc;AAO9BoB,gBAAAA,QAAQ,CAACG,IAAT,CAAcD,OAAd;AACD;;AAED3B,cAAAA,OAAO,CAACoB,MAAR,CAAe,aAAf,EAA8BK,QAA9B;;AA5B2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA6B5B;AAzDY,CAAf","sourcesContent":["export default {\n  async contactCoach(context, payload) {\n    const newRequest = {\n      userEmail: payload.email,\n      message: payload.message\n    };\n    const response = await fetch(\n      `https://find-a-coach-vue-2a71e-default-rtdb.firebaseio.com/requests/${payload.coachId}.json`,\n      {\n        method: 'POST',\n        body: JSON.stringify(newRequest)\n      }\n    );\n\n    const responseData = await response.json();\n\n    if (!response.ok) {\n      const error = new Error(\n        responseData.message || 'Failed to send request.'\n      );\n      throw error;\n    }\n\n    newRequest.id = responseData.name;\n    newRequest.coachId = payload.coachId;\n\n    context.commit('addRequest', newRequest);\n  },\n  async fetchRequests(context) {\n    const coachId = context.rootGetters.userId;\n    const token = context.rootGetters.token;\n    const response = await fetch(\n      `https://vue-http-demo-85e9e.firebaseio.com/requests/${coachId}.json?auth=` +\n        token\n    );\n    const responseData = await response.json();\n\n    if (!response.ok) {\n      const error = new Error(\n        responseData.message || 'Failed to fetch requests.'\n      );\n      throw error;\n    }\n\n    const requests = [];\n\n    for (const key in responseData) {\n      const request = {\n        id: key,\n        coachId: coachId,\n        userEmail: responseData[key].userEmail,\n        message: responseData[key].message\n      };\n      requests.push(request);\n    }\n\n    context.commit('setRequests', requests);\n  }\n};\n"]}]}