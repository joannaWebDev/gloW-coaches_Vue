{"remainingRequest":"/Users/joannasmerea/Desktop/Glovo_Trainings/Vue---The-Complete-Guide-incl.-Vue-Router-Vuex-and-Composition-API-/18 Deployment/deploy-02-async-components/node_modules/babel-loader/lib/index.js!/Users/joannasmerea/Desktop/Glovo_Trainings/Vue---The-Complete-Guide-incl.-Vue-Router-Vuex-and-Composition-API-/18 Deployment/deploy-02-async-components/node_modules/eslint-loader/index.js??ref--13-0!/Users/joannasmerea/Desktop/Glovo_Trainings/Vue---The-Complete-Guide-incl.-Vue-Router-Vuex-and-Composition-API-/18 Deployment/deploy-02-async-components/src/store/modules/requests/actions.js","dependencies":[{"path":"/Users/joannasmerea/Desktop/Glovo_Trainings/Vue---The-Complete-Guide-incl.-Vue-Router-Vuex-and-Composition-API-/18 Deployment/deploy-02-async-components/src/store/modules/requests/actions.js","mtime":1627020736347},{"path":"/Users/joannasmerea/Desktop/Glovo_Trainings/Vue---The-Complete-Guide-incl.-Vue-Router-Vuex-and-Composition-API-/18 Deployment/deploy-02-async-components/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/joannasmerea/Desktop/Glovo_Trainings/Vue---The-Complete-Guide-incl.-Vue-Router-Vuex-and-Composition-API-/18 Deployment/deploy-02-async-components/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/joannasmerea/Desktop/Glovo_Trainings/Vue---The-Complete-Guide-incl.-Vue-Router-Vuex-and-Composition-API-/18 Deployment/deploy-02-async-components/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9qb2FubmFzbWVyZWEvRGVza3RvcC9HbG92b19UcmFpbmluZ3MvVnVlLS0tVGhlLUNvbXBsZXRlLUd1aWRlLWluY2wuLVZ1ZS1Sb3V0ZXItVnVleC1hbmQtQ29tcG9zaXRpb24tQVBJLS8xOCBEZXBsb3ltZW50L2RlcGxveS0wMi1hc3luYy1jb21wb25lbnRzL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBjb250YWN0Q29hY2g6IGZ1bmN0aW9uIGNvbnRhY3RDb2FjaChjb250ZXh0LCBwYXlsb2FkKSB7CiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICB2YXIgbmV3UmVxdWVzdCwgcmVzcG9uc2UsIHJlc3BvbnNlRGF0YSwgZXJyb3I7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBuZXdSZXF1ZXN0ID0gewogICAgICAgICAgICAgICAgdXNlckVtYWlsOiBwYXlsb2FkLmVtYWlsLAogICAgICAgICAgICAgICAgbWVzc2FnZTogcGF5bG9hZC5tZXNzYWdlCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzsKICAgICAgICAgICAgICByZXR1cm4gZmV0Y2goImh0dHBzOi8vZmluZC1hLWNvYWNoLXZ1ZS0yYTcxZS1kZWZhdWx0LXJ0ZGIuZmlyZWJhc2Vpby5jb20vcmVxdWVzdHMvIi5jb25jYXQocGF5bG9hZC5jb2FjaElkLCAiLmpzb24iKSwgewogICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShuZXdSZXF1ZXN0KQogICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIHJlc3BvbnNlID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNjsKICAgICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpOwoKICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgIHJlc3BvbnNlRGF0YSA9IF9jb250ZXh0LnNlbnQ7CgogICAgICAgICAgICAgIGlmIChyZXNwb25zZS5vaykgewogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBlcnJvciA9IG5ldyBFcnJvcihyZXNwb25zZURhdGEubWVzc2FnZSB8fCAnRmFpbGVkIHRvIHNlbmQgcmVxdWVzdC4nKTsKICAgICAgICAgICAgICB0aHJvdyBlcnJvcjsKCiAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgbmV3UmVxdWVzdC5pZCA9IHJlc3BvbnNlRGF0YS5uYW1lOwogICAgICAgICAgICAgIG5ld1JlcXVlc3QuY29hY2hJZCA9IHBheWxvYWQuY29hY2hJZDsKICAgICAgICAgICAgICBjb250ZXh0LmNvbW1pdCgnYWRkUmVxdWVzdCcsIG5ld1JlcXVlc3QpOwoKICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZSk7CiAgICB9KSkoKTsKICB9LAogIGZldGNoUmVxdWVzdHM6IGZ1bmN0aW9uIGZldGNoUmVxdWVzdHMoY29udGV4dCkgewogICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgIHZhciBjb2FjaElkLCB0b2tlbiwgcmVzcG9uc2UsIHJlc3BvbnNlRGF0YSwgZXJyb3IsIHJlcXVlc3RzLCBrZXksIHJlcXVlc3Q7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMiQoX2NvbnRleHQyKSB7CiAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgY29hY2hJZCA9IGNvbnRleHQucm9vdEdldHRlcnMudXNlcklkOwogICAgICAgICAgICAgIHRva2VuID0gY29udGV4dC5yb290R2V0dGVycy50b2tlbjsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDQ7CiAgICAgICAgICAgICAgcmV0dXJuIGZldGNoKCJodHRwczovL3Z1ZS1odHRwLWRlbW8tODVlOWUuZmlyZWJhc2Vpby5jb20vcmVxdWVzdHMvIi5jb25jYXQoY29hY2hJZCwgIi5qc29uP2F1dGg9IikgKyB0b2tlbik7CgogICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgcmVzcG9uc2UgPSBfY29udGV4dDIuc2VudDsKICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDc7CiAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTsKCiAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICByZXNwb25zZURhdGEgPSBfY29udGV4dDIuc2VudDsKCiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDExOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICBlcnJvciA9IG5ldyBFcnJvcihyZXNwb25zZURhdGEubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGZldGNoIHJlcXVlc3RzLicpOwogICAgICAgICAgICAgIHRocm93IGVycm9yOwoKICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICByZXF1ZXN0cyA9IFtdOwoKICAgICAgICAgICAgICBmb3IgKGtleSBpbiByZXNwb25zZURhdGEpIHsKICAgICAgICAgICAgICAgIHJlcXVlc3QgPSB7CiAgICAgICAgICAgICAgICAgIGlkOiBrZXksCiAgICAgICAgICAgICAgICAgIGNvYWNoSWQ6IGNvYWNoSWQsCiAgICAgICAgICAgICAgICAgIHVzZXJFbWFpbDogcmVzcG9uc2VEYXRhW2tleV0udXNlckVtYWlsLAogICAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXNwb25zZURhdGFba2V5XS5tZXNzYWdlCiAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgcmVxdWVzdHMucHVzaChyZXF1ZXN0KTsKICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNvbnRleHQuY29tbWl0KCdzZXRSZXF1ZXN0cycsIHJlcXVlc3RzKTsKCiAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMik7CiAgICB9KSkoKTsKICB9Cn07"},{"version":3,"sources":["/Users/joannasmerea/Desktop/Glovo_Trainings/Vue---The-Complete-Guide-incl.-Vue-Router-Vuex-and-Composition-API-/18 Deployment/deploy-02-async-components/src/store/modules/requests/actions.js"],"names":["contactCoach","context","payload","newRequest","userEmail","email","message","fetch","coachId","method","body","JSON","stringify","response","json","responseData","ok","error","Error","id","name","commit","fetchRequests","rootGetters","userId","token","requests","key","request","push"],"mappings":";;;;AAAA,eAAe;AACPA,EAAAA,YADO,wBACMC,OADN,EACeC,OADf,EACwB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAC7BC,cAAAA,UAD6B,GAChB;AACjBC,gBAAAA,SAAS,EAAEF,OAAO,CAACG,KADF;AAEjBC,gBAAAA,OAAO,EAAEJ,OAAO,CAACI;AAFA,eADgB;AAAA;AAAA,qBAKZC,KAAK,+EAC6CL,OAAO,CAACM,OADrD,YAE1B;AACEC,gBAAAA,MAAM,EAAE,MADV;AAEEC,gBAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeT,UAAf;AAFR,eAF0B,CALO;;AAAA;AAK7BU,cAAAA,QAL6B;AAAA;AAAA,qBAaRA,QAAQ,CAACC,IAAT,EAbQ;;AAAA;AAa7BC,cAAAA,YAb6B;;AAAA,kBAe9BF,QAAQ,CAACG,EAfqB;AAAA;AAAA;AAAA;;AAgB3BC,cAAAA,KAhB2B,GAgBnB,IAAIC,KAAJ,CACZH,YAAY,CAACT,OAAb,IAAwB,yBADZ,CAhBmB;AAAA,oBAmB3BW,KAnB2B;;AAAA;AAsBnCd,cAAAA,UAAU,CAACgB,EAAX,GAAgBJ,YAAY,CAACK,IAA7B;AACAjB,cAAAA,UAAU,CAACK,OAAX,GAAqBN,OAAO,CAACM,OAA7B;AAEAP,cAAAA,OAAO,CAACoB,MAAR,CAAe,YAAf,EAA6BlB,UAA7B;;AAzBmC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA0BpC,GA3BY;AA4BPmB,EAAAA,aA5BO,yBA4BOrB,OA5BP,EA4BgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACrBO,cAAAA,OADqB,GACXP,OAAO,CAACsB,WAAR,CAAoBC,MADT;AAErBC,cAAAA,KAFqB,GAEbxB,OAAO,CAACsB,WAAR,CAAoBE,KAFP;AAAA;AAAA,qBAGJlB,KAAK,CAC1B,8DAAuDC,OAAvD,mBACEiB,KAFwB,CAHD;;AAAA;AAGrBZ,cAAAA,QAHqB;AAAA;AAAA,qBAOAA,QAAQ,CAACC,IAAT,EAPA;;AAAA;AAOrBC,cAAAA,YAPqB;;AAAA,kBAStBF,QAAQ,CAACG,EATa;AAAA;AAAA;AAAA;;AAUnBC,cAAAA,KAVmB,GAUX,IAAIC,KAAJ,CACZH,YAAY,CAACT,OAAb,IAAwB,2BADZ,CAVW;AAAA,oBAanBW,KAbmB;;AAAA;AAgBrBS,cAAAA,QAhBqB,GAgBV,EAhBU;;AAkB3B,mBAAWC,GAAX,IAAkBZ,YAAlB,EAAgC;AACxBa,gBAAAA,OADwB,GACd;AACdT,kBAAAA,EAAE,EAAEQ,GADU;AAEdnB,kBAAAA,OAAO,EAAEA,OAFK;AAGdJ,kBAAAA,SAAS,EAAEW,YAAY,CAACY,GAAD,CAAZ,CAAkBvB,SAHf;AAIdE,kBAAAA,OAAO,EAAES,YAAY,CAACY,GAAD,CAAZ,CAAkBrB;AAJb,iBADc;AAO9BoB,gBAAAA,QAAQ,CAACG,IAAT,CAAcD,OAAd;AACD;;AAED3B,cAAAA,OAAO,CAACoB,MAAR,CAAe,aAAf,EAA8BK,QAA9B;;AA5B2B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AA6B5B;AAzDY,CAAf","sourcesContent":["export default {\n  async contactCoach(context, payload) {\n    const newRequest = {\n      userEmail: payload.email,\n      message: payload.message\n    };\n    const response = await fetch(\n      `https://find-a-coach-vue-2a71e-default-rtdb.firebaseio.com/requests/${payload.coachId}.json`,\n      {\n        method: 'POST',\n        body: JSON.stringify(newRequest)\n      }\n    );\n\n    const responseData = await response.json();\n\n    if (!response.ok) {\n      const error = new Error(\n        responseData.message || 'Failed to send request.'\n      );\n      throw error;\n    }\n\n    newRequest.id = responseData.name;\n    newRequest.coachId = payload.coachId;\n\n    context.commit('addRequest', newRequest);\n  },\n  async fetchRequests(context) {\n    const coachId = context.rootGetters.userId;\n    const token = context.rootGetters.token;\n    const response = await fetch(\n      `https://vue-http-demo-85e9e.firebaseio.com/requests/${coachId}.json?auth=` +\n        token\n    );\n    const responseData = await response.json();\n\n    if (!response.ok) {\n      const error = new Error(\n        responseData.message || 'Failed to fetch requests.'\n      );\n      throw error;\n    }\n\n    const requests = [];\n\n    for (const key in responseData) {\n      const request = {\n        id: key,\n        coachId: coachId,\n        userEmail: responseData[key].userEmail,\n        message: responseData[key].message\n      };\n      requests.push(request);\n    }\n\n    context.commit('setRequests', requests);\n  }\n};\n"]}]}